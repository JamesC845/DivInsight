<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="DivInsight">
<title>Diversity Statistics: Auto Clustering, Charting, and Mapping • DivInsight</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Diversity Statistics: Auto Clustering, Charting, and Mapping">
<meta property="og:description" content="DivInsight">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">DivInsight</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/create_speccomm.html">Species Composition Matrix Generation</a>
    <a class="dropdown-item" href="../articles/diversity_statistics.html">Diversity Statistics: Auto Clustering, Charting, and Mapping</a>
    <a class="dropdown-item" href="../articles/divstats_environment.html">Analyzing Diversity-Environment Relationships</a>
    <a class="dropdown-item" href="../articles/taxon_range.html">Determining Taxon Range</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="diversity_statistics_files/htmlwidgets-1.6.2/htmlwidgets.js"></script><link href="diversity_statistics_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="diversity_statistics_files/leaflet-1.3.1/leaflet.js"></script><link href="diversity_statistics_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="diversity_statistics_files/proj4-2.6.2/proj4.min.js"></script><script src="diversity_statistics_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="diversity_statistics_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="diversity_statistics_files/leaflet-binding-2.1.2/leaflet.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Diversity Statistics: Auto Clustering, Charting, and Mapping</h1>
            
      
      
      <div class="d-none name"><code>diversity_statistics.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">DivInsight</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: replacing previous import 'dplyr::combine' by 'gridExtra::combine' when loading 'DivInsight'</span></span>
<span><span class="co">#&gt; Warning: replacing previous import 'gridExtra::combine' by 'dplyr::combine' when loading 'DivInsight'</span></span>
<span><span class="co">#&gt; Warning: replacing previous import 'dplyr::combine' by 'gridExtra::combine' when loading 'DivInsight'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"Colombia"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">gridExtra</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'gridExtra'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:dplyr':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     combine</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The <code>DivInsight</code> package can be used to repurpose
historical occurrence taxon data in order to generate diversity index
values for different dates and locations.</p>
<p> </p>
<p>Included in the package is the Colombia dataset, which contains
occurrence data for the taxon ‘Formicidae’ at the Family level from 2000
to 2023. This data was queried from the Global Biodiversity Information
Facility (GBIF) database using the <code>rgbif</code> package.</p>
<p> </p>
<p>Each row of the occurrence dataframe has data for an observed
individual. The dataset has many variables but the most important ones
for the functions in <code>DivInsight</code> pertain to taxa names,
coordinate location, and dates of the observations.</p>
</div>
<div class="section level2">
<h2 id="view-occurrence-dataframe">View occurrence dataframe<a class="anchor" aria-label="anchor" href="#view-occurrence-dataframe"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">Colombia</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span><span class="op">:</span><span class="fl">4</span>, <span class="fl">31</span><span class="op">:</span><span class="fl">32</span>, <span class="fl">45</span><span class="op">)</span><span class="op">]</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 10 × 6</span></span></span>
<span><span class="co">#&gt;    scientificName                          decimalLatitude decimalLongitude family     genus        eventDate          </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Hylomyrma transversa Kempf, 1973                 2.18              -<span style="color: #BB0000;">71.2</span> Formicidae Hylomyrma    2000-01-27T00:00:00</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Carebara Westwood, 1840                          4.53              -<span style="color: #BB0000;">75.6</span> Formicidae Carebara     2000-01-18T00:00:00</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Dolichoderus bispinosus (Olivier, 1792)          2.18              -<span style="color: #BB0000;">73.8</span> Formicidae Dolichoderus 2000-01-23T00:00:00</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Cephalotes marginatus (Fabricius, 1804)          0.066<span style="text-decoration: underline;">7</span>            -<span style="color: #BB0000;">72.4</span> Formicidae Cephalotes   2000-01-03T00:00:00</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Pheidole Westwood, 1839                          4.36              -<span style="color: #BB0000;">75.7</span> Formicidae Pheidole     2000-01-30T00:00:00</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Pheidole Westwood, 1839                          4.36              -<span style="color: #BB0000;">75.7</span> Formicidae Pheidole     2000-01-30T00:00:00</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Pheidole Westwood, 1839                          4.36              -<span style="color: #BB0000;">75.7</span> Formicidae Pheidole     2000-01-30T00:00:00</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Pheidole Westwood, 1839                          4.36              -<span style="color: #BB0000;">75.7</span> Formicidae Pheidole     2000-01-30T00:00:00</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Pheidole Westwood, 1839                          4.36              -<span style="color: #BB0000;">75.7</span> Formicidae Pheidole     2000-01-30T00:00:00</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Pheidole Westwood, 1839                          0.248             -<span style="color: #BB0000;">72.9</span> Formicidae Pheidole     2000-01-28T00:00:00</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="clusterise-data-from-an-entire-province">Clusterise data from an entire province<a class="anchor" aria-label="anchor" href="#clusterise-data-from-an-entire-province"></a>
</h2>
<p>The Colombia dataset can be subset by province then the most
important function in the package <code><a href="../reference/clusterise_sites.html">clusterise_sites()</a></code> can be
performed. This function clusters data by date and generates centered
coordinates for each cluster. As a result, these data clusters represent
sites from various dates and locations.</p>
<p> </p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Colombia_ValleCauca_dataframe</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">Colombia</span>, <span class="va">stateProvince</span> <span class="op">==</span> <span class="st">"Valle del Cauca"</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">clusterised_ValleCauca_20kmGroups</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/clusterise_sites.html">clusterise_sites</a></span><span class="op">(</span></span>
<span>  </span>
<span>  dataframe <span class="op">=</span> <span class="va">Colombia_ValleCauca_dataframe</span>,</span>
<span>  cluster_min_length <span class="op">=</span> <span class="fl">30</span>,</span>
<span>  group_radius <span class="op">=</span> <span class="fl">20000</span></span>
<span>  </span>
<span><span class="op">)</span></span></code></pre></div>
<p> </p>
<p>Furthermore, by using the optional argument
<code>group_radius</code>, the sites can be grouped using a specified
radius in metres.</p>
</div>
<div class="section level2">
<h2 id="generate-diversity-statistics-for-each-site">Generate diversity statistics for each site<a class="anchor" aria-label="anchor" href="#generate-diversity-statistics-for-each-site"></a>
</h2>
<p>Once the data has been ‘clusterised’ a dataframe, where each row
pertains to a site, can be produced by using
<code><a href="../reference/generate_stats.html">generate_stats()</a></code>. This information includes dates of
observations, centred coordinates, and diversity indices. The indices
included are: Abundance (N), Species Richness (S), Shannon Diversity
(H), Simpson Diversity (D), Inverse Simpson (Dinv), Margalef’s Diversity
(d), and Pielou’s Evenness (J).</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">stats_ValleCauca</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/generate_stats.html">generate_stats</a></span><span class="op">(</span><span class="va">clusterised_ValleCauca_20kmGroups</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">stats_ValleCauca</span><span class="op">)</span></span>
<span><span class="co">#&gt;    longitude latitude site_group       date year month day  country   stateProvince  kingdom     phylum   class   N  S         H          D      Dinv         d         J day_length</span></span>
<span><span class="co">#&gt; 1  -76.30000 3.833330          2 2005-03-30 2005     3  30 Colombia Valle del Cauca Animalia Arthropoda Insecta 127  8 1.6479899 0.78653357  4.684577 1.4450309 0.7925156   12.14246</span></span>
<span><span class="co">#&gt; 2  -76.29061 3.836074          2 2005-05-24 2005     5  24 Colombia Valle del Cauca Animalia Arthropoda Insecta  35 15 2.2708354 0.82938776  5.861244 3.9377298 0.8385499   12.31182</span></span>
<span><span class="co">#&gt; 3  -76.29331 3.835016          2 2014-09-14 2014     9  14 Colombia Valle del Cauca Animalia Arthropoda Insecta 158 34 2.9484257 0.92068579 12.608081 6.5183962 0.8361101   12.14504</span></span>
<span><span class="co">#&gt; 4  -76.29234 3.833332          2 2014-11-29 2014    11  29 Colombia Valle del Cauca Animalia Arthropoda Insecta 132 31 2.8001241 0.90840220 10.917293 6.1440133 0.8154148   11.91954</span></span>
<span><span class="co">#&gt; 5  -76.27604 3.828436          2 2015-02-05 2015     2   5 Colombia Valle del Cauca Animalia Arthropoda Insecta 116 26 2.6427852 0.88778240  8.911258 5.2591828 0.8111439   11.96775</span></span>
<span><span class="co">#&gt; 6  -76.41578 3.877575          2 2017-02-26 2017     2  26 Colombia Valle del Cauca Animalia Arthropoda Insecta  43  2 0.1104530 0.04542996  1.047592 0.2658726 0.1593501   12.03059</span></span>
<span><span class="co">#&gt; 7  -76.23333 4.516667          3 2004-01-01 2004    NA  NA Colombia Valle del Cauca Animalia Arthropoda Insecta 167 41 3.1287196 0.91254617 11.434604 7.8155624 0.8425095   11.86406</span></span>
<span><span class="co">#&gt; 8  -76.64613 3.572702          4 2003-01-20 2003     1  20 Colombia Valle del Cauca Animalia Arthropoda Insecta  31  3 0.5225134 0.27887617  1.386724 0.5824134 0.4756122   11.94229</span></span>
<span><span class="co">#&gt; 9  -76.64613 3.572702          4 2003-01-21 2003     1  21 Colombia Valle del Cauca Animalia Arthropoda Insecta  39  7 1.4179874 0.68639053  3.188679 1.6377505 0.7287014   11.94416</span></span>
<span><span class="co">#&gt; 10 -76.62000 3.600556          4 2004-01-01 2004    NA  NA Colombia Valle del Cauca Animalia Arthropoda Insecta 166 42 3.4806505 0.95971839 24.825225 8.0203634 0.9312355   11.91623</span></span>
<span><span class="co">#&gt; 11 -76.69167 3.645833          4 2006-08-11 2006     8  11 Colombia Valle del Cauca Animalia Arthropoda Insecta  54 21 2.8055929 0.91975309 12.461538 5.0138080 0.9215215   12.25081</span></span>
<span><span class="co">#&gt; 12 -76.20656 4.746823          5 2003-04-09 2003     4   9 Colombia Valle del Cauca Animalia Arthropoda Insecta  32 11 2.0725445 0.82812500  5.818182 2.8853901 0.8643182   12.19343</span></span>
<span><span class="co">#&gt; 13 -76.15815 4.746465          5 2010-11-01 2010    11  NA Colombia Valle del Cauca Animalia Arthropoda Insecta 179 34 2.7402281 0.88199494  8.474213 6.3615858 0.7770698   11.95487</span></span>
<span><span class="co">#&gt; 14 -76.21423 4.727709          5 2012-11-19 2012    11  19 Colombia Valle del Cauca Animalia Arthropoda Insecta  46 14 2.4018575 0.89413989  9.446429 3.3954603 0.9101195   11.89445</span></span>
<span><span class="co">#&gt; 15 -76.11947 4.747499          5 2012-11-22 2012    11  22 Colombia Valle del Cauca Animalia Arthropoda Insecta  37 13 2.4381249 0.90430972 10.450382 3.3232547 0.9505548   11.88565</span></span>
<span><span class="co">#&gt; 16 -76.07422 4.335595          7 2004-06-08 2004     6   8 Colombia Valle del Cauca Animalia Arthropoda Insecta  89 19 2.5974660 0.90367378 10.381389 4.0101266 0.8821599   12.36537</span></span>
<span><span class="co">#&gt; 17 -76.07907 4.336181          7 2005-03-15 2005     3  15 Colombia Valle del Cauca Animalia Arthropoda Insecta 109 14 1.9736490 0.79454591  4.867268 2.7710586 0.7478613   12.08670</span></span>
<span><span class="co">#&gt; 18 -75.98999 4.442458          7 2005-11-16 2005    11  16 Colombia Valle del Cauca Animalia Arthropoda Insecta  47 12 2.1139942 0.83567225  6.085399 2.8570333 0.8507339   11.91855</span></span>
<span><span class="co">#&gt; 19 -76.08047 4.445167          7 2012-03-15 2012     3  15 Colombia Valle del Cauca Animalia Arthropoda Insecta  31  9 2.0755330 0.85744017  7.014599 2.3296534 0.9446158   12.09016</span></span>
<span><span class="co">#&gt; 20 -76.49098 3.269370          9 2005-11-29 2005    11  29 Colombia Valle del Cauca Animalia Arthropoda Insecta  36 14 2.4641062 0.90277778 10.285714 3.6277191 0.9337069   11.94896</span></span>
<span><span class="co">#&gt; 21 -76.54126 3.377111          9 2006-01-31 2006     1  31 Colombia Valle del Cauca Animalia Arthropoda Insecta  34  2 0.6914161 0.49826990  1.993103 0.2835785 0.9975025   11.97372</span></span>
<span><span class="co">#&gt; 22 -76.59544 3.306189          9 2013-04-26 2013     4  26 Colombia Valle del Cauca Animalia Arthropoda Insecta  30 16 2.5138218 0.89333333  9.375000 4.4102116 0.9066695   12.21833</span></span>
<span><span class="co">#&gt; 23 -76.32812 3.642267         10 2006-01-25 2006     1  25 Colombia Valle del Cauca Animalia Arthropoda Insecta  45 22 2.8092254 0.92148148 12.735849 5.5166435 0.9088278   11.94889</span></span>
<span><span class="co">#&gt; 24 -76.32498 3.641739         10 2014-09-15 2014     9  15 Colombia Valle del Cauca Animalia Arthropoda Insecta 406 43 2.9667868 0.92022374 12.535057 6.9925958 0.7887873   12.14001</span></span>
<span><span class="co">#&gt; 25 -76.32760 3.643015         10 2014-12-01 2014    12   1 Colombia Valle del Cauca Animalia Arthropoda Insecta 264 34 2.7439621 0.90596304 10.634117 5.9182750 0.7781286   11.92645</span></span>
<span><span class="co">#&gt; 26 -76.35096 3.647082         10 2015-02-07 2015     2   7 Colombia Valle del Cauca Animalia Arthropoda Insecta 278 34 2.8849322 0.91827545 12.236225 5.8639342 0.8181047   11.98001</span></span>
<span><span class="co">#&gt; 27 -75.87795 4.317911         11 2006-01-27 2006     1  27 Colombia Valle del Cauca Animalia Arthropoda Insecta  33  5 1.1938761 0.63544536  2.743073 1.1439987 0.7417969   11.92277</span></span>
<span><span class="co">#&gt; 28 -76.16617 3.537570         12 2006-08-01 2006     8   1 Colombia Valle del Cauca Animalia Arthropoda Insecta 156 50 3.5635981 0.95504602 22.244973 9.7032470 0.9109349   12.27286</span></span>
<span><span class="co">#&gt; 29 -76.35922 4.936484         14 2010-11-01 2010    11  NA Colombia Valle del Cauca Animalia Arthropoda Insecta  70 26 2.6285960 0.86489796  7.401813 5.8844364 0.8067889   11.94846</span></span>
<span><span class="co">#&gt; 30 -76.14528 5.031667         15 2010-11-01 2010    11  NA Colombia Valle del Cauca Animalia Arthropoda Insecta  50 23 2.8819541 0.92560000 13.440860 5.6236888 0.9191387   11.94525</span></span>
<span><span class="co">#&gt; 31 -76.03395 4.914880         16 2010-11-01 2010    11  NA Colombia Valle del Cauca Animalia Arthropoda Insecta 171 44 3.0205573 0.88717896  8.863595 8.3630521 0.7982045   11.94919</span></span>
<span><span class="co">#&gt; 32 -76.15808 4.031763         17 2014-09-13 2014     9  13 Colombia Valle del Cauca Animalia Arthropoda Insecta 276 42 3.0332659 0.93013548 14.313416 7.2948533 0.8115393   12.15045</span></span>
<span><span class="co">#&gt; 33 -76.15994 4.025848         17 2014-11-30 2014    11  30 Colombia Valle del Cauca Animalia Arthropoda Insecta 224 37 2.9224006 0.91804847 12.202335 6.6523198 0.8093235   11.90777</span></span>
<span><span class="co">#&gt; 34 -76.16153 4.030435         17 2015-02-06 2015     2   6 Colombia Valle del Cauca Animalia Arthropoda Insecta 231 40 2.8727299 0.90084519 10.085239 7.1659329 0.7787541   11.96283</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="plot-diversity-statistics-over-time">Plot diversity statistics over time<a class="anchor" aria-label="anchor" href="#plot-diversity-statistics-over-time"></a>
</h2>
<p>Package functions can be used to easily plot diversity values over
time.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_sites_trend_H.html">plot_sites_trend_H</a></span><span class="op">(</span></span>
<span>  clusterised_object <span class="op">=</span> <span class="va">clusterised_ValleCauca_20kmGroups</span>,</span>
<span>  main_title <span class="op">=</span> <span class="st">"Formicidae diversity in the Valle del Cauca province"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="diversity_statistics_files/figure-html/unnamed-chunk-5-1.png" width="768"></p>
</div>
<div class="section level2">
<h2 id="section"></h2>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_sites_trend_S.html">plot_sites_trend_S</a></span><span class="op">(</span></span>
<span>  clusterised_object <span class="op">=</span> <span class="va">clusterised_ValleCauca_20kmGroups</span>,</span>
<span>  main_title <span class="op">=</span> <span class="st">"Formicidae richness in the Valle del Cauca province"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="diversity_statistics_files/figure-html/unnamed-chunk-6-1.png" width="768"></p>
</div>
<div class="section level2">
<h2 id="section-1"></h2>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_sites_trend_N.html">plot_sites_trend_N</a></span><span class="op">(</span></span>
<span>  clusterised_object <span class="op">=</span> <span class="va">clusterised_ValleCauca_20kmGroups</span>,</span>
<span>  main_title <span class="op">=</span> <span class="st">"Formicidae abundance in the Valle del Cauca province"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="diversity_statistics_files/figure-html/unnamed-chunk-7-1.png" width="768"></p>
</div>
<div class="section level2">
<h2 id="view-the-site-metadata">View the site metadata<a class="anchor" aria-label="anchor" href="#view-the-site-metadata"></a>
</h2>
<p>The clusterised object contains two elements. The first element
contains the clustered data and the second contains metadata. The
metadata has centred coordinates and dates for each site as well as a
group label.</p>
<p> </p>
<p>When the <code>group_radius</code> argument is used in the
<code><a href="../reference/clusterise_sites.html">clusterise_sites()</a></code> function a label is assigned to each
group. By using the <code>[[2]]</code> index, the metadata can be
viewed. The column labeled <code>site_group</code> displays the group
labels.</p>
<p> </p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">clusterised_ValleCauca_20kmGroups</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt;    longitude latitude site_group       date</span></span>
<span><span class="co">#&gt; 1  -76.30000 3.833330          2 2005-03-30</span></span>
<span><span class="co">#&gt; 2  -76.29061 3.836074          2 2005-05-24</span></span>
<span><span class="co">#&gt; 3  -76.29331 3.835016          2 2014-09-14</span></span>
<span><span class="co">#&gt; 4  -76.29234 3.833332          2 2014-11-29</span></span>
<span><span class="co">#&gt; 5  -76.27604 3.828436          2 2015-02-05</span></span>
<span><span class="co">#&gt; 6  -76.41578 3.877575          2 2017-02-26</span></span>
<span><span class="co">#&gt; 7  -76.23333 4.516667          3 2004-01-01</span></span>
<span><span class="co">#&gt; 8  -76.64613 3.572702          4 2003-01-20</span></span>
<span><span class="co">#&gt; 9  -76.64613 3.572702          4 2003-01-21</span></span>
<span><span class="co">#&gt; 10 -76.62000 3.600556          4 2004-01-01</span></span>
<span><span class="co">#&gt; 11 -76.69167 3.645833          4 2006-08-11</span></span>
<span><span class="co">#&gt; 12 -76.20656 4.746823          5 2003-04-09</span></span>
<span><span class="co">#&gt; 13 -76.15815 4.746465          5 2010-11-01</span></span>
<span><span class="co">#&gt; 14 -76.21423 4.727709          5 2012-11-19</span></span>
<span><span class="co">#&gt; 15 -76.11947 4.747499          5 2012-11-22</span></span>
<span><span class="co">#&gt; 16 -76.07422 4.335595          7 2004-06-08</span></span>
<span><span class="co">#&gt; 17 -76.07907 4.336181          7 2005-03-15</span></span>
<span><span class="co">#&gt; 18 -75.98999 4.442458          7 2005-11-16</span></span>
<span><span class="co">#&gt; 19 -76.08047 4.445167          7 2012-03-15</span></span>
<span><span class="co">#&gt; 20 -76.49098 3.269370          9 2005-11-29</span></span>
<span><span class="co">#&gt; 21 -76.54126 3.377111          9 2006-01-31</span></span>
<span><span class="co">#&gt; 22 -76.59544 3.306189          9 2013-04-26</span></span>
<span><span class="co">#&gt; 23 -76.32812 3.642267         10 2006-01-25</span></span>
<span><span class="co">#&gt; 24 -76.32498 3.641739         10 2014-09-15</span></span>
<span><span class="co">#&gt; 25 -76.32760 3.643015         10 2014-12-01</span></span>
<span><span class="co">#&gt; 26 -76.35096 3.647082         10 2015-02-07</span></span>
<span><span class="co">#&gt; 27 -75.87795 4.317911         11 2006-01-27</span></span>
<span><span class="co">#&gt; 28 -76.16617 3.537570         12 2006-08-01</span></span>
<span><span class="co">#&gt; 29 -76.35922 4.936484         14 2010-11-01</span></span>
<span><span class="co">#&gt; 30 -76.14528 5.031667         15 2010-11-01</span></span>
<span><span class="co">#&gt; 31 -76.03395 4.914880         16 2010-11-01</span></span>
<span><span class="co">#&gt; 32 -76.15808 4.031763         17 2014-09-13</span></span>
<span><span class="co">#&gt; 33 -76.15994 4.025848         17 2014-11-30</span></span>
<span><span class="co">#&gt; 34 -76.16153 4.030435         17 2015-02-06</span></span></code></pre></div>
<p> </p>
<p>Also, base R commands can be used to quickly see how many sites there
are in each group and help us to decide which groups to examine
further.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">clusterised_ValleCauca_20kmGroups</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">site_group</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="va">table</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="va">sort</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="va">print</span></span>
<span><span class="co">#&gt; .</span></span>
<span><span class="co">#&gt;  3 11 12 14 15 16  9 17  4  5  7 10  2 </span></span>
<span><span class="co">#&gt;  1  1  1  1  1  1  3  3  4  4  4  4  6</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="examine-groups-further">Examine groups further<a class="anchor" aria-label="anchor" href="#examine-groups-further"></a>
</h2>
<p>Here, groups 2, 10, 7, and 5 are examined further by using
<code><a href="../reference/filter_groups_by_number.html">filter_groups_by_number()</a></code> to store each group’s data then
plot using <code><a href="../reference/plot_sites_scatter_H.html">plot_sites_scatter_H()</a></code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ValleCauca_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_groups_by_number.html">filter_groups_by_number</a></span><span class="op">(</span><span class="va">clusterised_ValleCauca_20kmGroups</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">ValleCauca_10</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_groups_by_number.html">filter_groups_by_number</a></span><span class="op">(</span><span class="va">clusterised_ValleCauca_20kmGroups</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">ValleCauca_7</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_groups_by_number.html">filter_groups_by_number</a></span><span class="op">(</span><span class="va">clusterised_ValleCauca_20kmGroups</span>, <span class="fl">7</span><span class="op">)</span></span>
<span><span class="va">ValleCauca_5</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_groups_by_number.html">filter_groups_by_number</a></span><span class="op">(</span><span class="va">clusterised_ValleCauca_20kmGroups</span>, <span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html" class="external-link">grid.arrange</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/plot_sites_scatter_H.html">plot_sites_scatter_H</a></span><span class="op">(</span><span class="va">ValleCauca_2</span>,  main <span class="op">=</span> <span class="st">"Shannon's H at ValleCauca #2"</span><span class="op">)</span>, </span>
<span>  <span class="fu"><a href="../reference/plot_sites_scatter_H.html">plot_sites_scatter_H</a></span><span class="op">(</span><span class="va">ValleCauca_10</span>, main <span class="op">=</span> <span class="st">"Shannon's H at ValleCauca #10"</span><span class="op">)</span>,</span>
<span>  ncol <span class="op">=</span> <span class="fl">2</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Use of `stats_dataframe$date` is discouraged.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `date` instead.</span></span>
<span><span class="co">#&gt; Warning: Use of `stats_dataframe$H` is discouraged.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `H` instead.</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html" class="external-link">grid.arrange</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/plot_sites_scatter_H.html">plot_sites_scatter_H</a></span><span class="op">(</span><span class="va">ValleCauca_7</span>, main <span class="op">=</span> <span class="st">"Shannon's H at ValleCauca #7"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/plot_sites_scatter_H.html">plot_sites_scatter_H</a></span><span class="op">(</span><span class="va">ValleCauca_5</span>, main <span class="op">=</span> <span class="st">"Shannon's H at ValleCauca #5"</span><span class="op">)</span>,</span>
<span>  ncol <span class="op">=</span> <span class="fl">2</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="diversity_statistics_files/figure-html/unnamed-chunk-10-1.png" width="130%"><img src="diversity_statistics_files/figure-html/unnamed-chunk-10-2.png" width="130%"></p>
</div>
<div class="section level2">
<h2 id="create-maps-for-grouped-sites">Create maps for grouped sites<a class="anchor" aria-label="anchor" href="#create-maps-for-grouped-sites"></a>
</h2>
<p>The charts show varying patterns of diversity over available time
frames but it is important to know where these changes are taking place.
<code><a href="../reference/mapStart_siteCirc.html">mapStart_siteCirc()</a></code> can be used to create a new map object
with site locations and <code><a href="../reference/mapAdd_siteCirc.html">mapAdd_siteCirc()</a></code> can be used to
add more sites.</p>
<p> </p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## create a new map using group 1's coordinates</span></span>
<span><span class="va">Colombia_ValleCauca_map</span> <span class="op">&lt;-</span> </span>
<span>  </span>
<span>  <span class="fu"><a href="../reference/mapStart_siteCirc.html">mapStart_siteCirc</a></span><span class="op">(</span></span>
<span>    </span>
<span>    clusterised_object <span class="op">=</span> <span class="va">ValleCauca_2</span>,</span>
<span>    site_name <span class="op">=</span> <span class="st">"ValleCauca #2"</span>,</span>
<span>    colour <span class="op">=</span> <span class="st">"green"</span></span>
<span>    </span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co">## add group 5's coordinates to the map object </span></span>
<span><span class="va">Colombia_ValleCauca_map</span> <span class="op">&lt;-</span></span>
<span>  </span>
<span>  <span class="fu"><a href="../reference/mapAdd_siteCirc.html">mapAdd_siteCirc</a></span><span class="op">(</span></span>
<span>    </span>
<span>    existing_map <span class="op">=</span> <span class="va">Colombia_ValleCauca_map</span>,</span>
<span>    </span>
<span>    clusterised_object <span class="op">=</span> <span class="va">ValleCauca_10</span>,</span>
<span>    site_name <span class="op">=</span> <span class="st">"ValleCauca #10"</span>,</span>
<span>    colour <span class="op">=</span> <span class="st">"purple"</span></span>
<span>    </span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co">## add group 6's coordinates to the map object</span></span>
<span><span class="va">Colombia_ValleCauca_map</span> <span class="op">&lt;-</span></span>
<span>  </span>
<span>  <span class="fu"><a href="../reference/mapAdd_siteCirc.html">mapAdd_siteCirc</a></span><span class="op">(</span></span>
<span>    </span>
<span>    existing_map <span class="op">=</span> <span class="va">Colombia_ValleCauca_map</span>,</span>
<span>    </span>
<span>    clusterised_object <span class="op">=</span> <span class="va">ValleCauca_7</span>,</span>
<span>    site_name <span class="op">=</span> <span class="st">"ValleCauca #7"</span>,</span>
<span>    colour <span class="op">=</span> <span class="st">"blue"</span></span>
<span>    </span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co">## add group 8's coordinates to the map object</span></span>
<span><span class="va">Colombia_ValleCauca_map</span> <span class="op">&lt;-</span></span>
<span>  </span>
<span>  <span class="fu"><a href="../reference/mapAdd_siteCirc.html">mapAdd_siteCirc</a></span><span class="op">(</span></span>
<span>    </span>
<span>    existing_map <span class="op">=</span> <span class="va">Colombia_ValleCauca_map</span>,</span>
<span>    </span>
<span>    clusterised_object <span class="op">=</span> <span class="va">ValleCauca_5</span>,</span>
<span>    site_name <span class="op">=</span> <span class="st">"ValleCauca #5"</span>,</span>
<span>    colour <span class="op">=</span> <span class="st">"red"</span></span>
<span>    </span>
<span>  <span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">## view the map</span></span>
<span><span class="va">Colombia_ValleCauca_map</span></span></code></pre></div>
<div class="leaflet html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-36826d3e8411a0ea63b4" style="width:768px;height:576px;"></div>
<script type="application/json" data-for="htmlwidget-36826d3e8411a0ea63b4">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[3.83333,3.83607371428571,3.83501560269131,3.83333211337429,3.82843551580229,3.87757511627907],[-76.3,-76.2906122857143,-76.2933106434185,-76.2923408701387,-76.2760444593109,-76.415778372093],10,null,null,{"interactive":true,"className":"","stroke":true,"color":"green","weight":5,"opacity":0.5,"fill":true,"fillColor":"green","fillOpacity":0.2},null,null,null,null,"ValleCauca #2",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addCircleMarkers","args":[[3.64226666666667,3.64173876220855,3.64301530292817,3.64708224405479],[-76.3281154666667,-76.3249826944844,-76.3275982480557,-76.3509616955645],10,null,null,{"interactive":true,"className":"","stroke":true,"color":"purple","weight":5,"opacity":0.5,"fill":true,"fillColor":"purple","fillOpacity":0.2},null,null,null,null,"ValleCauca #10",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addCircleMarkers","args":[[4.33559516853933,4.33618134862385,4.44245761702128,4.445167],[-76.0742219101124,-76.0790734036697,-75.9899850212766,-76.080472],10,null,null,{"interactive":true,"className":"","stroke":true,"color":"blue","weight":5,"opacity":0.5,"fill":true,"fillColor":"blue","fillOpacity":0.2},null,null,null,null,"ValleCauca #7",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addCircleMarkers","args":[[4.74682312048056,4.74646462305388,4.72770850163616,4.74749889345546],[-76.2065633104404,-76.158147872181,-76.214227097861,-76.1194688978311],10,null,null,{"interactive":true,"className":"","stroke":true,"color":"red","weight":5,"opacity":0.5,"fill":true,"fillColor":"red","fillOpacity":0.2},null,null,null,null,"ValleCauca #5",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[3.64173876220855,4.74749889345546],"lng":[-76.415778372093,-75.9899850212766]}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level2">
<h2 id="clusterise-data-using-coordinates">Clusterise data using coordinates<a class="anchor" aria-label="anchor" href="#clusterise-data-using-coordinates"></a>
</h2>
<p>To subset data for an exact location a pair of longitude/latitude
coordinates can be used with <code><a href="../reference/subset_by_coordinate_ref.html">subset_by_coordinate_ref()</a></code>.
The <code>coordinate_reference</code> argument will mark the centre of
the location and the <code>distance_threshold</code> will mark the
radius of the location in metres.</p>
<p> </p>
<p>Below this function is used in an argument value in the
<code><a href="../reference/clusterise_sites.html">clusterise_sites()</a></code> function to get clusterised data for two
locations in Colombia. The radius of each location is set to 25km.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## clusterise coordinate reference location 1</span></span>
<span><span class="va">clusterised_Colombia_CoordRef_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/clusterise_sites.html">clusterise_sites</a></span><span class="op">(</span></span>
<span>  </span>
<span>  dataframe <span class="op">=</span></span>
<span>    </span>
<span>    <span class="fu"><a href="../reference/subset_by_coordinate_ref.html">subset_by_coordinate_ref</a></span><span class="op">(</span></span>
<span>      dataframe <span class="op">=</span> <span class="va">Colombia</span>,</span>
<span>      coordinate_reference <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">73.325377</span>, <span class="fl">3.956982</span><span class="op">)</span>,</span>
<span>      distance_threshold <span class="op">=</span> <span class="fl">25000</span><span class="op">)</span>,</span>
<span>  </span>
<span>  cluster_min_length <span class="op">=</span> <span class="fl">30</span> </span>
<span>  </span>
<span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">## clusterise coordinate reference location 2</span></span>
<span><span class="va">clusterised_Colombia_CoordRef_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/clusterise_sites.html">clusterise_sites</a></span><span class="op">(</span></span>
<span>  </span>
<span>  dataframe <span class="op">=</span> </span>
<span>    </span>
<span>    <span class="fu"><a href="../reference/subset_by_coordinate_ref.html">subset_by_coordinate_ref</a></span><span class="op">(</span></span>
<span>      dataframe <span class="op">=</span> <span class="va">Colombia</span>,</span>
<span>      coordinate_reference <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">71.889919</span>, <span class="fl">4.470524</span><span class="op">)</span>,</span>
<span>      distance_threshold <span class="op">=</span> <span class="fl">25000</span><span class="op">)</span>,</span>
<span>  </span>
<span>  cluster_min_length <span class="op">=</span> <span class="fl">30</span> </span>
<span>  </span>
<span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">## view meta data for location 1</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">clusterised_Colombia_CoordRef_1</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt;    longitude latitude site_group       date</span></span>
<span><span class="co">#&gt; 1  -73.46702 4.058576          1 2000-10-01</span></span>
<span><span class="co">#&gt; 2  -73.46702 4.058576          1 2000-10-06</span></span>
<span><span class="co">#&gt; 3  -73.47267 4.073333          1 2015-10-13</span></span>
<span><span class="co">#&gt; 4  -73.47267 4.073333          1 2015-11-19</span></span>
<span><span class="co">#&gt; 5  -73.47267 4.073333          1 2016-02-15</span></span>
<span><span class="co">#&gt; 6  -73.47267 4.073333          1 2016-02-24</span></span>
<span><span class="co">#&gt; 7  -73.47267 4.073333          1 2016-05-24</span></span>
<span><span class="co">#&gt; 8  -73.47267 4.073333          1 2016-06-13</span></span>
<span><span class="co">#&gt; 9  -73.47267 4.073333          1 2016-08-03</span></span>
<span><span class="co">#&gt; 10 -73.36824 4.083131          1 2022-11-09</span></span>
<span><span class="co">#&gt; 11 -73.38409 4.080567          1 2022-11-11</span></span>
<span><span class="co">#&gt; 12 -73.37865 4.091503          1 2022-11-14</span></span>
<span></span>
<span><span class="co">## view meta data for location 2</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">clusterised_Colombia_CoordRef_2</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt;   longitude latitude site_group       date</span></span>
<span><span class="co">#&gt; 1 -71.73596 4.340693          1 2012-05-01</span></span>
<span><span class="co">#&gt; 2 -71.81433 4.530222          1 2015-09-16</span></span>
<span><span class="co">#&gt; 3 -71.81433 4.530222          1 2015-10-13</span></span>
<span><span class="co">#&gt; 4 -71.81433 4.530222          1 2015-11-19</span></span>
<span><span class="co">#&gt; 5 -71.81433 4.530222          1 2016-02-15</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="plot-scatter-plots-for-coordinate-reference-sites">Plot scatter plots for coordinate reference sites<a class="anchor" aria-label="anchor" href="#plot-scatter-plots-for-coordinate-reference-sites"></a>
</h2>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html" class="external-link">grid.arrange</a></span><span class="op">(</span></span>
<span>  </span>
<span>  <span class="fu"><a href="../reference/plot_sites_scatter_H.html">plot_sites_scatter_H</a></span><span class="op">(</span></span>
<span>    </span>
<span>    clusterised_object <span class="op">=</span> <span class="va">clusterised_Colombia_CoordRef_1</span>,</span>
<span>    main <span class="op">=</span> <span class="st">"Diversity at coordinate site #1"</span></span>
<span>  <span class="op">)</span>, </span>
<span>  </span>
<span>  <span class="fu"><a href="../reference/plot_sites_scatter_H.html">plot_sites_scatter_H</a></span><span class="op">(</span></span>
<span>    </span>
<span>    clusterised_object <span class="op">=</span> <span class="va">clusterised_Colombia_CoordRef_2</span>,</span>
<span>    main <span class="op">=</span> <span class="st">"Diversity at coordinate site #2"</span></span>
<span>  <span class="op">)</span>, </span>
<span>  </span>
<span>  ncol <span class="op">=</span> <span class="fl">2</span></span>
<span>  </span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Use of `stats_dataframe$date` is discouraged.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `date` instead.</span></span>
<span><span class="co">#&gt; Warning: Use of `stats_dataframe$H` is discouraged.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `H` instead.</span></span>
<span><span class="co">#&gt; Warning: Use of `stats_dataframe$date` is discouraged.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `date` instead.</span></span>
<span><span class="co">#&gt; Warning: Use of `stats_dataframe$H` is discouraged.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `H` instead.</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html" class="external-link">grid.arrange</a></span><span class="op">(</span></span>
<span>  </span>
<span>  <span class="fu"><a href="../reference/plot_sites_scatter_S.html">plot_sites_scatter_S</a></span><span class="op">(</span></span>
<span>    </span>
<span>    clusterised_object <span class="op">=</span> <span class="va">clusterised_Colombia_CoordRef_1</span>,</span>
<span>    main <span class="op">=</span> <span class="st">"Richness at coordinate site #1"</span></span>
<span>  <span class="op">)</span>, </span>
<span>  </span>
<span>  <span class="fu"><a href="../reference/plot_sites_scatter_S.html">plot_sites_scatter_S</a></span><span class="op">(</span></span>
<span>    </span>
<span>    clusterised_object <span class="op">=</span> <span class="va">clusterised_Colombia_CoordRef_2</span>,</span>
<span>    main <span class="op">=</span> <span class="st">"Richness at coordinate site #2"</span></span>
<span>  <span class="op">)</span>, </span>
<span>  </span>
<span>  ncol <span class="op">=</span> <span class="fl">2</span></span>
<span>  </span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Use of `stats_dataframe$date` is discouraged.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `date` instead.</span></span>
<span><span class="co">#&gt; Warning: Use of `stats_dataframe$S` is discouraged.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `S` instead.</span></span>
<span><span class="co">#&gt; Warning: Use of `stats_dataframe$date` is discouraged.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `date` instead.</span></span>
<span><span class="co">#&gt; Warning: Use of `stats_dataframe$S` is discouraged.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `S` instead.</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html" class="external-link">grid.arrange</a></span><span class="op">(</span></span>
<span>  </span>
<span>  <span class="fu"><a href="../reference/plot_sites_scatter_N.html">plot_sites_scatter_N</a></span><span class="op">(</span></span>
<span>    </span>
<span>    clusterised_object <span class="op">=</span> <span class="va">clusterised_Colombia_CoordRef_1</span>,</span>
<span>    main <span class="op">=</span> <span class="st">"Abundance at coordinate site #1"</span></span>
<span>  <span class="op">)</span>, </span>
<span>  </span>
<span>  <span class="fu"><a href="../reference/plot_sites_scatter_N.html">plot_sites_scatter_N</a></span><span class="op">(</span></span>
<span>    </span>
<span>    clusterised_object <span class="op">=</span> <span class="va">clusterised_Colombia_CoordRef_2</span>,</span>
<span>    main <span class="op">=</span> <span class="st">"Abundance at coordinate site #2"</span></span>
<span>  <span class="op">)</span>, </span>
<span>  </span>
<span>  ncol <span class="op">=</span> <span class="fl">2</span></span>
<span>  </span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Use of `stats_dataframe$date` is discouraged.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `date` instead.</span></span>
<span><span class="co">#&gt; Warning: Use of `stats_dataframe$date` is discouraged.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `date` instead.</span></span></code></pre></div>
<p><img src="diversity_statistics_files/figure-html/unnamed-chunk-13-1.png" width="130%"><img src="diversity_statistics_files/figure-html/unnamed-chunk-13-2.png" width="130%"><img src="diversity_statistics_files/figure-html/unnamed-chunk-13-3.png" width="130%"></p>
</div>
<div class="section level2">
<h2 id="create-maps-for-grouped-sites-1">Create maps for grouped sites<a class="anchor" aria-label="anchor" href="#create-maps-for-grouped-sites-1"></a>
</h2>
<p>A map can be created to see where these patterns are happening .</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## create a new map using coordinates from first reference site</span></span>
<span><span class="va">Colombia_CoordRef_map</span> <span class="op">&lt;-</span></span>
<span>  </span>
<span>  <span class="fu"><a href="../reference/mapStart_siteCirc.html">mapStart_siteCirc</a></span><span class="op">(</span></span>
<span>    </span>
<span>    clusterised_object <span class="op">=</span> <span class="va">clusterised_Colombia_CoordRef_1</span>,</span>
<span>    site_name <span class="op">=</span> <span class="st">"Coord Ref site #1"</span>,    </span>
<span>    colour <span class="op">=</span> <span class="st">"purple"</span></span>
<span>    </span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co">## add to the existing map using information from the second reference site</span></span>
<span><span class="va">Colombia_CoordRef_map</span> <span class="op">&lt;-</span></span>
<span>  </span>
<span>  <span class="fu"><a href="../reference/mapAdd_siteCirc.html">mapAdd_siteCirc</a></span><span class="op">(</span></span>
<span>    </span>
<span>    existing_map <span class="op">=</span> <span class="va">Colombia_CoordRef_map</span>,</span>
<span>    </span>
<span>    clusterised_object <span class="op">=</span> <span class="va">clusterised_Colombia_CoordRef_2</span>,</span>
<span>    site_name <span class="op">=</span> <span class="st">"Coord Ref Site #2"</span>,</span>
<span>    colour <span class="op">=</span> <span class="st">"darkred"</span></span>
<span>    </span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co">## view the map</span></span>
<span><span class="va">Colombia_CoordRef_map</span></span></code></pre></div>
<div class="leaflet html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-186b3943d0cd95a34588" style="width:768px;height:576px;"></div>
<script type="application/json" data-for="htmlwidget-186b3943d0cd95a34588">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[4.058576,4.058576,4.073333,4.07333273529412,4.07333280851064,4.07333286,4.073333,4.073333,4.073333,4.08313073089746,4.0805669610763,4.09150252597334],[-73.4670205,-73.4670205,-73.472667,-73.4726667352941,-73.4726668085106,-73.47266686,-73.472667,-73.472667,-73.472667,-73.3682422467959,-73.3840911034569,-73.3786543099756],10,null,null,{"interactive":true,"className":"","stroke":true,"color":"purple","weight":5,"opacity":0.5,"fill":true,"fillColor":"purple","fillOpacity":0.2},null,null,null,null,"Coord Ref site #1",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addCircleMarkers","args":[[4.34069280952381,4.53022196571429,4.53022179104478,4.53022182857143,4.530222],[-71.7359574603175,-71.8143328457143,-71.8143326865672,-71.8143327428571,-71.814333],10,null,null,{"interactive":true,"className":"","stroke":true,"color":"darkred","weight":5,"opacity":0.5,"fill":true,"fillColor":"darkred","fillOpacity":0.2},null,null,null,null,"Coord Ref Site #2",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[4.058576,4.530222],"lng":[-73.472667,-71.7359574603175]}},"evals":[],"jsHooks":[]}</script>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by James Churchward.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
